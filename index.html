<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>R-CODE NEON ‚Ä¢ DEPTH</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root{--neon:#00ff9c}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Courier New,monospace;
  background:#000;
  color:var(--neon);
  overflow:hidden
}
#matrix{position:fixed;inset:0;z-index:0}
.wrap{
  position:relative;z-index:2;
  min-height:100vh;
  display:flex;align-items:center;justify-content:center;
  padding:10px
}
.container{
  width:100%;max-width:600px;
  background:rgba(10,15,20,.9);
  border:1px solid var(--neon);
  border-radius:16px;
  padding:18px;
  box-shadow:0 0 25px rgba(0,255,156,.5)
}
h1{text-align:center;font-size:18px;margin:0 0 12px}
label{font-size:12px;opacity:.8}
input,textarea,select,button{
  width:100%;
  background:#000;
  color:var(--neon);
  border:1px solid var(--neon);
  border-radius:10px;
  padding:10px;
  margin:6px 0;
  font-family:inherit
}
textarea{min-height:120px;resize:none}
.row{display:flex;gap:10px}
button{cursor:pointer;font-weight:bold}
button.small{flex:.4}
.progress{width:100%;height:8px;background:#022;border-radius:6px;overflow:hidden}
.bar{height:100%;width:0%;background:linear-gradient(90deg,#00ff9c,#00cfff)}
footer{text-align:center;font-size:11px;opacity:.6;margin-top:8px}
</style>
</head>

<body>
<canvas id="matrix"></canvas>

<div class="wrap">
<div class="container">
<h1>üñ•Ô∏è R-CODE NEON ‚Ä¢ FINAL</h1>

<label>MASTER KEY</label>
<div class="row">
  <input id="key">
  <button class="small" onclick="generateKey()">üé≤</button>
</div>

<label>DEPTH LEVEL</label>
<input type="range" id="depth" min="1" max="3" value="2">
<div style="display:flex;justify-content:space-between;font-size:11px;opacity:.7">
  <span>Normal</span><span>Chaos</span><span>Extreme</span>
</div>

<label>EXPIRY (encode time)</label>
<div class="row">
  <input id="expiryValue" type="number" min="0">
  <select id="expiryUnit">
    <option value="none">No Expiry</option>
    <option value="minutes">Minutes</option>
    <option value="hours">Hours</option>
    <option value="days">Days</option>
  </select>
</div>

<label>INPUT</label>
<textarea id="input"></textarea>

<div class="row">
  <button onclick="encode()">ENCODE</button>
  <button onclick="decode()">DECODE</button>
</div>

<div class="progress"><div class="bar" id="bar"></div></div>

<label>OUTPUT</label>
<textarea id="output" readonly></textarea>
<button onclick="copyOutput()">üìã COPY</button>

<footer>Inner R-CODE ‚Ä¢ Outer Chaos ‚Ä¢ Depth Slider</footer>
</div>
</div>

<script>
/* MATRIX */
const canvas=document.getElementById("matrix"),ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight}
resize();addEventListener("resize",resize);
const chars="01„Ç¢„Ç§„Ç¶„Ç®„Ç™„Ç´„Ç≠„ÇØ„Ç±„Ç≥„Çµ„Ç∑„Çπ„Çª„ÇΩ";
const fs=14;let cols=Math.floor(canvas.width/fs);
let drops=Array(cols).fill(1);
setInterval(()=>{
 ctx.fillStyle="rgba(0,0,0,.06)";
 ctx.fillRect(0,0,canvas.width,canvas.height);
 ctx.fillStyle="#00ff9c";ctx.font=fs+"px monospace";
 for(let i=0;i<drops.length;i++){
  const t=chars[Math.random()*chars.length|0];
  ctx.fillText(t,i*fs,drops[i]*fs);
  if(drops[i]*fs>canvas.height&&Math.random()>0.98)drops[i]=0;
  drops[i]++;
 }
},33);

/* FX */
const TAUNTS=[
 "üòà WRONG KEY",
 "ü§° Nice try",
 "üíÄ Decode failed",
 "üö´ Access denied",
 "üß± Blocked"
];
function typeOut(txt){
 output.value="";let i=0;
 const t=setInterval(()=>{
  output.value+=txt[i++]||"";
  output.scrollTop=output.scrollHeight;
  if(i>txt.length)clearInterval(t);
 },18);
}
function runProgress(done){
 bar.style.width="0%";let p=0;
 const t=setInterval(()=>{
  p+=Math.random()*18;
  if(p>=100){p=100;clearInterval(t);done()}
  bar.style.width=p+"%";
 },120);
}

/* HELPERS */
const te=new TextEncoder(),td=new TextDecoder();
function xorBytes(d,k){const o=new Uint8Array(d.length);for(let i=0;i<d.length;i++)o[i]=d[i]^k[i%k.length];return o}
function hash32(s){let h=2166136261;for(let c of s){h^=c.charCodeAt(0);h=Math.imul(h,16777619)}return(h>>>0).toString(16)}
function toB64(b){return btoa(String.fromCharCode(...b))}
function fromB64(s){return Uint8Array.from(atob(s),c=>c.charCodeAt(0))}
function expiryToMs(v,u){
 if(u==="none")return 0;
 const n=+v;if(!n||n<=0)return 0;
 if(u==="minutes")return n*60000;
 if(u==="hours")return n*3600000;
 if(u==="days")return n*86400000;
 return 0;
}

/* RANDOM KEY */
function generateKey(){
 const c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$%!*";
 let k="";for(let i=0;i<16;i++)k+=c[Math.random()*c.length|0];
 key.value=k;navigator.clipboard.writeText(k);
}

/* INNER R-CODE */
function coreEncode(k,txt,ms){
 let d=te.encode(txt),kb=te.encode(k);
 for(let i=0;i<800;i++)d=xorBytes(d,kb);
 const payload=toB64(d);
 const token=hash32(k+payload).slice(0,8);
 const exp=ms?Date.now()+ms:0;
 return "RC14::"+exp+"::"+payload+"::"+token;
}
function coreDecode(k,enc){
 if(!enc.startsWith("RC14::"))return null;
 const p=enc.split("::");if(p.length!==4)return null;
 const [,exp,payload,token]=p;
 if(exp!=="0"&&Date.now()>+exp)return null;
 let d;try{d=fromB64(payload)}catch{return null}
 const kb=te.encode(k);
 for(let i=0;i<800;i++)d=xorBytes(d,kb);
 if(hash32(k+payload).slice(0,8)!==token)return null;
 return td.decode(d);
}

/* OUTER CHAOS (STABLE) */
function outerEncodeChaos(str){
 let arr=[];
 for(let c of str){
  arr.push((c.charCodeAt(0)+18).toString(36));
 }
 return "Œ©X::"+arr.join(".");
}
function outerDecodeChaos(str){
 if(!str.startsWith("Œ©X::"))return null;
 const body=str.slice(4).split(".");
 let out="";
 for(let p of body){
  const n=parseInt(p,36);
  if(isNaN(n))return null;
  out+=String.fromCharCode(n-18);
 }
 return out;
}

/* FLOW */
function encode(){
 const k=key.value,txt=input.value;
 if(!k||!txt)return alert("Key & text required");
 const ms=expiryToMs(expiryValue.value,expiryUnit.value);
 const depth=+document.getElementById("depth").value;

 let out=coreEncode(k,txt,ms);
 if(depth>=2) out=outerEncodeChaos(out);
 if(depth>=3) out=outerEncodeChaos(out);

 output.value=out;
}
function decode(){
 const k=key.value,enc=input.value;
 if(!k||!enc)return alert("Key & data required");
 runProgress(()=>{
  let cur=enc;
  for(let i=0;i<2;i++){
   const t=outerDecodeChaos(cur);
   if(t)cur=t;
  }
  const res=coreDecode(k,cur);
  if(res)typeOut(res);
  else typeOut(TAUNTS[Math.random()*TAUNTS.length|0]);
 });
}

/* COPY */
function copyOutput(){if(output.value)navigator.clipboard.writeText(output.value);}
</script>
</body>
</html>